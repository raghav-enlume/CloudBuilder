{
    "us-east-1": {
        "s3_buckets": [
            {
                "Name": "serverless-frontend-bucket",
                "Region": "us-east-1",
                "Purpose": "Static website hosting",
                "Versioning": "Enabled",
                "Encryption": "AES256"
            }
        ],
        "cloudfront_distributions": [
            {
                "DistributionId": "cf-serverless-001",
                "Origin": "serverless-frontend-bucket",
                "DefaultRootObject": "index.html",
                "ViewerProtocolPolicy": "redirect-to-https"
            }
        ],
        "api_gateways": [
            {
                "ApiName": "serverless-api",
                "Type": "REST",
                "EndpointType": "regional",
                "Stages": [
                    "prod"
                ],
                "Routes": [
                    {
                        "Path": "/users",
                        "Method": "GET",
                        "Integration": "lambda-get-users"
                    },
                    {
                        "Path": "/users",
                        "Method": "POST",
                        "Integration": "lambda-create-user"
                    }
                ]
            }
        ],
        "lambda_functions": [
            {
                "FunctionName": "lambda-get-users",
                "Runtime": "python3.10",
                "Handler": "get_users.lambda_handler",
                "MemorySize": 256,
                "Timeout": 10,
                "Triggers": [
                    "api_gateway"
                ],
                "Permissions": [
                    "dynamodb:Scan"
                ],
                "EnvironmentVariables": {
                    "TABLE_NAME": "users-table"
                }
            },
            {
                "FunctionName": "lambda-create-user",
                "Runtime": "python3.10",
                "Handler": "create_user.lambda_handler",
                "MemorySize": 256,
                "Timeout": 10,
                "Triggers": [
                    "api_gateway",
                    "sqs"
                ],
                "Permissions": [
                    "dynamodb:PutItem"
                ],
                "EnvironmentVariables": {
                    "TABLE_NAME": "users-table"
                }
            }
        ],
        "dynamodb_tables": [
            {
                "TableName": "users-table",
                "PartitionKey": "user_id",
                "BillingMode": "PAY_PER_REQUEST",
                "Encryption": "AWS_MANAGED"
            }
        ],
        "sqs_queues": [
            {
                "QueueName": "user-events-queue",
                "VisibilityTimeout": 30,
                "DeadLetterQueue": "user-events-dlq"
            }
        ],
        "iam_roles": [
            {
                "RoleName": "lambda-execution-role",
                "Services": [
                    "lambda.amazonaws.com"
                ],
                "Policies": [
                    "AmazonDynamoDBFullAccess",
                    "CloudWatchLogsFullAccess"
                ]
            }
        ],
        "cloudwatch": {
            "Logs": true,
            "Metrics": true,
            "Alarms": [
                {
                    "Name": "LambdaErrors",
                    "Metric": "Errors",
                    "Threshold": 5
                }
            ]
        }
    }
}