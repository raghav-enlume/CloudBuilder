{
    "region": "us-west-2",
    "vpc": {
        "name": "blazeops-staging-vpc",
        "vpc_id": "vpc-0d872966b39f4ea8d",
        "cidr": "10.0.0.0/16"
    },
    "network": {
        "internet_gateway": {
            "id": "igw-01d6f9713399da5ca"
        },
        "nat_gateway": {
            "id": "nat-08f50d3bafb9d5043"
        }
    },
    "subnets": {
        "public": [
            {
                "subnet_id": "subnet-073ef49609e45baae",
                "cidr": "10.0.1.0/24",
                "route_table": "rtb-0bff65edc339ff6de"
            },
            {
                "subnet_id": "subnet-09f866b987b0b0ee4",
                "cidr": "10.0.2.0/24",
                "route_table": "rtb-0bff65edc339ff6de"
            }
        ],
        "private": [
            {
                "subnet_id": "subnet-015e78643cad449b1",
                "cidr": "10.0.4.0/24",
                "route_table": "rtb-01409b82181bbb38f"
            },
            {
                "subnet_id": "subnet-09f403328962fd4af",
                "cidr": "10.0.3.0/24",
                "route_table": "rtb-01409b82181bbb38f"
            }
        ]
    },
    "route_tables": {
        "public": {
            "id": "rtb-0bff65edc339ff6de",
            "routes": [
                {
                    "destination": "0.0.0.0/0",
                    "target": "igw-01d6f9713399da5ca"
                },
                {
                    "destination": "10.0.0.0/16",
                    "target": "local"
                }
            ]
        },
        "private": {
            "id": "rtb-01409b82181bbb38f",
            "routes": [
                {
                    "destination": "0.0.0.0/0",
                    "target": "nat-08f50d3bafb9d5043"
                },
                {
                    "destination": "10.0.0.0/16",
                    "target": "local"
                }
            ]
        }
    },
    "iam": {
        "ec2_instance_role": {
            "role_name": "blazeops-ec2-role",
            "trusted_entity": "ec2.amazonaws.com",
            "attached_policies": [
                "AmazonEC2ContainerRegistryReadOnly"
            ],
            "inline_policies": {
                "ecr_access": [
                    "ecr:GetAuthorizationToken",
                    "ecr:BatchGetImage",
                    "ecr:GetDownloadUrlForLayer"
                ],
                "s3_access": [
                    "s3:GetObject"
                ]
            }
        },
        "instance_profile": {
            "name": "blazeops-ec2-instance-profile",
            "attached_role": "blazeops-ec2-role"
        }
    },
    "ec2": {
        "instance_name": "blazeops-backend-api",
        "deployment": "Docker container from ECR",
        "iam_role": "blazeops-ec2-role",
        "subnet_type": "public",
        "security_group": {
            "id": "sg-0a662e1623f9592c5",
            "inbound_rules": [
                {
                    "port": 22,
                    "source": "admin-ip"
                },
                {
                    "port": 8000,
                    "source": "0.0.0.0/0"
                }
            ],
            "outbound_rules": [
                {
                    "port": "all",
                    "destination": "0.0.0.0/0"
                }
            ]
        },
        "backend_url": "http://api.ops.blazeops.ai:8000/api"
    },
    "rds": {
        "db_instance_name": "blazeops-staging-postgres-db-instance",
        "engine": "postgresql",
        "port": 5432,
        "subnet_type": "private","security_group": {
            "id": "sg-0c88bd30e77f3ebbd",
            "inbound_rules": [
                {
                    "port": 5432,
                    "source_security_group": "sg-0a662e1623f9592c5"
                }
            ]
        }
    },
    "ecr": {
        "repository_name": "blazeops-staging-repo",
        "access_control": {
            "accessed_by": "EC2 IAM Role",
            "permissions_required": [
                "ecr:GetAuthorizationToken",
                "ecr:BatchGetImage",
                "ecr:GetDownloadUrlForLayer"
            ]
        }
    },
    "s3": {
        "bucket_name": "staging.ops.blazeops.ai",
        "purpose": "Frontend static website hosting",
        "public_access": true,
        "static_website_enabled": true,
        "bucket_policy": {
            "effect": "Allow",
            "principal": "*",
            "action": [
                "s3:GetObject"
            ],
            "resource": "arn:aws:s3:::staging.ops.blazeops.ai/*"
        },
        "frontend_url": "https://staging.ops.blazeops.ai"
    },
    "route53": {
        "hosted_zone": "ops.blazeops.ai",
        "records": [
            {
                "name": "staging.ops.blazeops.ai",
                "type": "A",
                "target": "S3 static website endpoint"
            },
            {
                "name": "api.ops.blazeops.ai",
                "type": "A",
                "target": "EC2 public IP"
            }
        ]
    },
    "end_to_end_flow": [
        "User → Route53 → S3 (Frontend)",
        "User → Route53 → EC2 (Backend API)",
        "EC2 → ECR (Docker image pull using IAM role)",
        "EC2 → RDS (PostgreSQL over port 5432)",
        "Private subnets → NAT Gateway → Internet"
    ]
}